// ã€Stackä¸»é¢˜é¼ æ ‡æ ·å¼å†™æ³•ã€‘
// defaultå…‰æ ‡å›¾ç‰‡
body,
html,
.article-content img {
  cursor: url(../mouse/default.png), auto !important;
}

// pointerå…‰æ ‡å›¾ç‰‡
a:hover,
button:hover,
.copyCodeButton:hover,
#dark-mode-toggle {
  cursor: url(../mouse/pointer.png), auto;
}

// textå…‰æ ‡å›¾ç‰‡
input:hover,
.site-description,
.article-subtitle,
.article-content span,
.article-content li,
.article-content p {
  cursor: url(../mouse/text.png), auto;
}

// æ–°å¢žçš„highlightä»£ç å— âœ… å·²æ’å…¥æŒ‡å®šä½ç½®
.highlight {
  border-radius: var(--card-border-radius);
  max-width: 100% !important;
  margin: 0 !important;
  box-shadow: var(--shadow-l1) !important;
}

.highlight:before {
  content: "";
  display: block;
  background: url(../icons/macOS-code-header.svg) no-repeat 0;
  background-size: contain;
  height: 18px;
  margin-top: -10px;
  margin-bottom: 10px;
}

// ----------------é¦–é¡µæ¬¢è¿Žæ¿å—æ ·å¼----------------
.welcome {
  color: var(--card-text-color-main);
  background: var(--card-background);
  box-shadow: var(--shadow-l2);
  border-radius: 30px;
  display: inline-block;
  padding: 16px 24px;
  margin: 30px auto;
  animation: fadeIn 0.8s ease-out;
}

// ðŸ‘‹emojiå®žçŽ°æ‘†åŠ¨æ•ˆæžœ
.shake {
  display: inline-block;
  animation: shake 1s ease 2s 1 normal none running;
}

// å®žçŽ°å­—ç¬¦è·³åŠ¨åŠ¨ç”»
.jump-text1 { display: inline-block; animation: jump 0.5s 1; }
.jump-text2 { display: inline-block; animation: jump 0.5s 1 0.1s; }
.jump-text3 { display: inline-block; animation: jump 0.5s 1 0.2s; }
.jump-text4 { display: inline-block; animation: jump 0.5s 1 0.3s; }
.jump-text5 { display: inline-block; animation: jump 0.5s 1 0.4s; }
.jump-text6 { display: inline-block; animation: jump 0.5s 1 0.5s; }
.jump-text7 { display: inline-block; animation: jump 0.5s 1 0.6s; }
.jump-text8 { display: inline-block; animation: jump 0.5s 1 0.7s; }
.jump-text9 { display: inline-block; animation: jump 0.5s 1 0.9s; }

// =============== åŠ¨ç”»å®šä¹‰ï¼ˆå¿…é¡»åœ¨é¡¶å±‚ï¼‰===============
@keyframes shake {
  0%   { transform: rotate(0); }
  25%  { transform: rotate(45deg) scale(1.2); }
  50%  { transform: rotate(0) scale(1.2); }
  75%  { transform: rotate(45deg) scale(1.2); }
  100% { transform: rotate(0); }
}

@keyframes jump {
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-20px); }
  100% { transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}

// =====================================================
// --------------- é¡µé¢åŸºæœ¬é…è‰² (å…¨å±€å˜é‡ä¼˜å…ˆç½®é¡¶) ---------------
// =====================================================
:root {
  // å…¨å±€é¡¶éƒ¨è¾¹è·
  --main-top-padding: 30px !important;
  // å…¨å±€å¡ç‰‡åœ†è§’
  --card-border-radius: 25px !important;
  // æ ‡ç­¾äº‘å¡ç‰‡åœ†è§’
  --tag-border-radius: 8px !important;
  // å¡ç‰‡é—´è·
  --section-separation: 40px !important;
  // å…¨å±€å­—ä½“å¤§å°
  --article-font-size: 1.8rem !important;
  // è¡Œå†…ä»£ç èƒŒæ™¯è‰²
  --code-background-color: #f8f8f8 !important;
  // è¡Œå†…ä»£ç å‰æ™¯è‰²
  --code-text-color: #e96900 !important;
  // é“¾æŽ¥é«˜äº®èƒŒæ™¯è‰²ï¼ˆRGBæ ¼å¼ï¼Œç”¨äºŽrgbaï¼‰
  --link-background-color: 255, 165, 0 !important; // æ©™è‰²
  --link-background-opacity-hover: 0.25 !important;
}
// æš—è‰²æ¨¡å¼å˜é‡ (å…¼å®¹å†™æ³•ï¼Œæ— åµŒå¥—ï¼Œæ— ç¼–è¯‘éšæ‚£)
[data-scheme="dark"] {
  --code-background-color: #ff6d1b17 !important;
  --code-text-color: #e96900 !important;
}

// =====================================================
// --------------- èƒŒæ™¯å›¾æ ¸å¿ƒæ ·å¼ (å¿…åŠ ï¼Œæ¢å¤èƒŒæ™¯æ˜¾ç¤º) ---------------
// =====================================================
/* æ¡Œé¢ç«¯èƒŒæ™¯å›¾ - å±…ä¸­å›ºå®š ä¸æ»šåŠ¨ */
@media (min-width: 769px) {
  body {
    background: url("/background/bg.jpeg") no-repeat center center fixed !important;
    background-size: cover !important;
    background-attachment: fixed !important;
    background-color: transparent !important;
  }
}
/* ç§»åŠ¨ç«¯èƒŒæ™¯å›¾ - é¡¶éƒ¨æ˜¾ç¤º éšæ»šåŠ¨ */
@media (max-width: 768px) {
  body {
    background: url("/background/bg.jpeg") no-repeat center top !important;
    background-size: cover !important;
    background-attachment: scroll !important;
    background-color: transparent !important;
  }
}
/* å®¹å™¨é€æ˜Žç©¿é€ - èƒŒæ™¯å›¾èƒ½æ˜¾ç¤ºå‡ºæ¥çš„å…³é”® */
#page-wrapper, .main-content, .container {
  background: none !important;
  background-color: transparent !important;
}
.mask, .overlay {
  background-color: transparent !important;
}

// =====================================================
// --------------- å…¨å±€é¡µé¢å¸ƒå±€é—´è·è°ƒæ•´ ---------------
// =====================================================
.main-container {
  min-height: 100vh !important;
  align-items: flex-start !important;
  padding: 0 15px !important;
  gap: var(--section-separation) !important;
  padding-top: var(--main-top-padding) !important;

  @include respond(md) {
    padding: 0 37px !important;
  }
}

/* ä¸»é¡µå¸ƒå±€é—´è·è°ƒæ•´ï¼ˆè¦†ç›–é»˜è®¤ï¼‰ */
.main-container {
  gap: 50px;

  @include respond(md) {
    padding: 0 30px;
    gap: 40px;
  }
}

// =====================================================
// --------------- é¡µé¢ä¸‰æ å®½åº¦è°ƒæ•´ ---------------
// =====================================================
.container {
  margin-left: auto !important;
  margin-right: auto !important;

  .left-sidebar {
    order: -3 !important;
    max-width: var(--left-sidebar-max-width) !important;
  }

  .right-sidebar {
    order: -1 !important;
    max-width: var(--right-sidebar-max-width) !important;
    /// Display right sidebar when min-width: lg
    @include respond(lg) {
      display: flex !important;
    }
  }

  &.extended {
    @include respond(md) {
      max-width: 1024px !important;
      --left-sidebar-max-width: 25% !important;
      --right-sidebar-max-width: 22% !important;
    }

    @include respond(lg) {
      max-width: 1280px !important;
      --left-sidebar-max-width: 20% !important;
      --right-sidebar-max-width: 30% !important;
    }

    @include respond(xl) {
      max-width: 1453px !important;
      --left-sidebar-max-width: 15% !important;
      --right-sidebar-max-width: 25% !important;
    }
  }

  &.compact {
    @include respond(md) {
      --left-sidebar-max-width: 25% !important;
      max-width: 768px !important;
    }

    @include respond(lg) {
      max-width: 1024px !important;
      --left-sidebar-max-width: 20% !important;
    }

    @include respond(xl) {
      max-width: 1280px !important;
    }
  }
}

// =====================================================
// --------------- å…¨å±€é¡µé¢å°å›¾ç‰‡æ ·å¼å¾®è°ƒ ---------------
// =====================================================
.article-list--compact article .article-image img {
  width: var(--image-size) !important;
  height: var(--image-size) !important;
  object-fit: cover !important;
  border-radius: 17% !important;
}

// ------------------------------------------------------
// å‹æƒ…é“¾æŽ¥+åˆ†ç±»+æ ‡ç­¾+å½’æ¡£ã€ä¸‰æ æ˜¾ç¤ºã€‘
// ------------------------------------------------------
@media (min-width: 1024px) {
  .article-list--compact {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    background: none;
    box-shadow: none;
    gap: 1rem;

    article {
      background: var(--card-background);
      border: none;
      box-shadow: var(--shadow-l2);
      margin-bottom: 8px;
      margin-right: 8px;
      border-radius: 16px;
    }
  }
}

// =====================================================
// --------------- å½’æ¡£å°å›¾æ ‡æ”¾å¤§åŠ¨ç”» + å³ä¾§æ ‡ç­¾æ”¾å¤§åŠ¨ç”» (æé€Ÿâœ…) ---------------
// =====================================================
.widget.archives .widget-archive--list {
  transition: transform 0.15s ease-out !important;
}
.widget.archives .widget-archive--list:hover {
  transform: scale(1.05, 1.05) !important;
}
.tagCloud .tagCloud-tags a {
  border-radius: 10px !important;
  font-size: 1.4rem !important;
  transition: transform 0.15s ease-out !important;
}
.tagCloud .tagCloud-tags a:hover {
  transform: scale(1.1, 1.1) !important;
}

// =====================================================
// --------------- å·¦ä¾§å¯¼èˆªæ æ ·å¼é…ç½® ---------------
// =====================================================
.left-sidebar {
  --sidebar-avatar-size: 115px !important;
  --sidebar-element-separation: 15px !important;
  --emoji-size: 40px !important;
  --emoji-font-size: 25px !important;
}
.social-menu {
  display: flex !important;
  justify-content: center !important;
  gap: 15px !important;
}
.social-menu svg {
  width: 30px !important;
  height: 30px !important;
  stroke: var(--body-text-color) !important;
  stroke-width: 1.33 !important;
}

// =====================================================
// --------------- å·¦ä¾§æ é€‰é¡¹å…¨å¥—æ‚¬æµ®åŠ¨ç”» (æ ¸å¿ƒâœ… æžé€Ÿæé€Ÿ) ---------------
// =====================================================
#main-menu {
    overflow: visible !important;
}
#main-menu .current {
    transform: scale(1.1) !important;
}
#main-menu>li:not(.current) a {
    transition: transform 0.1s ease-out !important;
}
#main-menu>li:not(.current) a:hover {
    transform: scale(1.1) !important;
}

.menu-social {
    overflow: visible !important;
}
.menu-social li {
    transition: transform 0.15s ease-out !important;
}
.menu-social li:hover {
    transform: scale(1.3) !important;
}

.article-list--compact {
    overflow: visible !important;
}
.article-list--compact article {
    transition: transform 0.2s ease-out !important;
    -webkit-font-smoothing: antialiased !important;
    will-change: transform !important;
}
.article-list--compact article:hover {
    transform: scale(1.05,1.05) !important;
    z-index: 4 !important;
}

.article-list--tile article {
  transition: transform 0.2s ease-out !important;
}
.article-list--tile article:hover {
  transform: scale(1.05, 1.05) !important;
  will-change: transform !important;
}

// =====================================================
// --------------- ç¤¾äº¤å›¾æ ‡ä¸“å±žæ‚¬æµ®æ”¾å¤§20% (æé€Ÿâœ… æ— æ—‹è½¬) ---------------
// =====================================================
.icon-tabler-brand-bilibili,
.icon-tabler-brand-github,
.icon-tabler-rss {
  transition: transform 0.15s ease-out !important;
}
.icon-tabler-brand-bilibili:hover,
.icon-tabler-brand-github:hover,
.icon-tabler-rss:hover {
  transform: scale(1.2) !important;
}

// =====================================================
// --------------- ä¸‹æ‹‰èœå•æ”¹åœ†è§’æ ·å¼ ---------------
// =====================================================
.menu {
  padding-left: 0 !important;
  list-style: none !important;
  flex-direction: column !important;
  overflow-x: hidden !important;
  flex-grow: 1 !important;
  font-size: 1.6rem !important;
  background-color: var(--card-background) !important;
	box-shadow: none !important;
	display: none !important;
	margin: 0 !important;
	border-radius: 10px !important;
	padding: 30px 30px !important;

  @include respond(xl) {
    padding: 15px 0 !important;
  }
  &, .menu-bottom-section { gap: 30px !important; }
  @include respond(xl) { gap: 25px !important; }
  &.show { display: flex !important; }
  @include respond(md) {
    align-items: flex-end !important;
    display: flex !important;
    background-color: transparent !important;
    padding: 0 !important;
    box-shadow: none !important;
    margin: 0 !important;
  }
  li {
    position: relative !important;
    vertical-align: middle !important;
    padding: 0 !important;
    @include respond(md) { width: 100% !important; }
    svg { stroke-width:1.33 !important;width:20px !important;height:20px !important; }
    a {
      height:100% !important;display:inline-flex !important;align-items:center !important;
      color:var(--body-text-color) !important;gap:var(--menu-icon-separation) !important;
    }
    span { flex:1 !important; }
    &.current a { color:var(--accent-color) !important;font-weight:bold !important; }
  }
}
.menu::-webkit-scrollbar { display: none !important; }
.sidebar header .site-name { margin:8px !important;font-size:2rem !important; }

// =====================================================
// --------------- æ–‡ç« å†…å®¹ç¾ŽåŒ–ç›¸å…³ ---------------
// =====================================================
.article-content blockquote {
  border-left:6px solid #004b28 !important;background:#366e33 !important;
}
.highlight {
  max-width:102% !important;background-color:var(--pre-background-color) !important;
  padding:var(--card-padding) !important;position:relative !important;border-radius:20px !important;
  margin-left:-7px !important;margin-right:-12px !important;box-shadow:var(--shadow-l1) !important;
  &:hover .copyCodeButton { opacity:1 !important; }
  [dir="rtl"] & { direction:ltr !important; }
  pre { margin:initial !important;padding:0 !important;width:auto !important; }
}
.article-page .main-article .article-content img {
  max-width:96% !important;height:auto !important;border-radius:8px !important;
}
p > img { display:block !important;margin:0 auto !important;max-width:100% !important;height:auto !important; }
::selection { color:#fff !important;background:#001572 !important; }

/* --------------------- é¼ æ ‡æ‚¬åœï¼Œè¶…é“¾æŽ¥çš„æ˜¾ç¤º ------------------- */
a {
  text-decoration: none !important;
  color: var(--accent-color) !important;

  &:hover {
    color: var(--accent-color-darker) !important;
  }

  &.link {
    font-weight: 800 !important;
    padding: 0 2px !important;
    cursor: pointer !important;
    color: #000 !important;
    text-decoration: none !important;
    box-shadow: 0px -2px 0px rgba(var(--link-background-color), var(--link-background-opacity-hover)) inset !important;
    transition: all 0.3s ease !important;

    &:hover {
      box-shadow: 0px -18px 0px rgba(var(--link-background-color), var(--link-background-opacity-hover)) inset !important;
    }
  }
}

@media (prefers-color-scheme: dark) {
  a .link {
    color: #FFFFFF !important;
  }
}

// ----------------è°ƒæ•´ TOC ç›®å½•é—´è·------------------
.widget--toc {
  background-color: var(--card-background);
  border-radius: var(--card-border-radius);
  box-shadow: var(--shadow-l2);
  display: flex;
  flex-direction: column;
  color: var(--card-text-color-main);
  overflow: hidden;
  display: inline-block;

  #TableOfContents {
      max-height: 65vh;
      overflow-y: auto;
      padding: 12px 0;

      ol,
      ul {
          list-style-type: none;
          margin: 0;
          padding: 0;
      }

      li {
          margin: 5px 20px;
          padding: 6px;
          white-space: nowrap;
          text-overflow: ellipsis;
          overflow: hidden;

          & > ol,
          & > ul {
              margin-top: 10px;
              padding-left: 10px;
              margin-bottom: -5px;

              & > li:last-child {
                  margin-bottom: 0;
              }
          }
      }

      & > ul {
          padding: 0 1em;
      }
  }
}

// =====================================================
// --------------- é¦–é¡µæ–‡ç« æ ·å¼ åˆé›† (æ ¸å¿ƒâœ… æžé€Ÿæé€Ÿ) ---------------
// =====================================================
$image-scale:1.2;
.article-list article .article-image img {
  width:100% !important;height:150px !important;object-fit:cover !important;
  transition:transform 0.2s ease-out !important;
  @include respond(sm) { height:305px !important; }
  @include respond(md) { height:305px !important; }
  @include respond(xl) { height:325px !important; }
}
.article-list article { --card-border-radius:24px !important; }
.article-category a, .article-tags a { border-radius:11px !important; }
.article-list article .article-image { position:relative !important;overflow:hidden !important; }
.article-list article .article-image img:hover { transform:scale($image-scale) !important; }

// =====================================================
// --------------- æ–‡ç« å†…éƒ¨-é¡µè„š-ç›¸å…³æ–‡ç« æ ·å¼ (æé€Ÿâœ…) ---------------
// =====================================================
.article-list--compact article > a {
  transition:transform 0.2s ease-out !important;
}
.article-list--compact article > a:hover {
  transform:scale(1.03,1.03) !important;overflow:visible !important;
}

// =====================================================
// --------------- MacOS é£Žæ ¼ä»£ç å— + æµ…è‰²æ¨¡å¼æœ€æ–°é…è‰² ---------------
// =====================================================
.article-content .highlight:before {
  content:'' !important;display:block !important;background:url(/code-header.svg) !important;
  height:32px !important;width:100% !important;background-size:57px !important;
  background-repeat:no-repeat !important;margin-bottom:5px !important;background-position:-1px 2px !important;
}
[data-scheme="light"] .article-content .highlight { background-color:#fdf4eb !important; }
[data-scheme="light"] .chroma { color:#ff6f00 !important;background-color:#fcf0e4cc !important; }

// =====================================================
// --------------- ä»£ç å—æŒ‰é’®ç›¸å…³æ ·å¼ ---------------
// =====================================================
.languageCodeButton { display:none !important; }
.article-content .copyCodeButton {
  position:absolute !important;top:10px !important;right:18px !important;border-radius:12px !important;
  color:#ffffff !important;background:#3d3c3c !important;border:1px solid #333 !important;
  padding:5px 10px !important;font-weight:500 !important;
  text-shadow:0 0 1px rgba(255,255,255,0.5) !important;
}
.article-content .copyCodeButton:hover { background:#ffa500 !important;border-color:#000 !important; }

// =====================================================
// --------------- ä¿®å¤å¼•ç”¨å—å†…å®¹çª„é¡µé¢æ˜¾ç¤ºé—®é¢˜ ---------------
// =====================================================
a { word-break: break-all !important; }
code { word-break: break-all !important; }

// =====================================================
// âœ…âœ…âœ… ä¿®å¤ï¼šå½»åº•ç¦ç”¨å·¦ä¸‹è§’äº®/æš—è‰²åˆ‡æ¢æŒ‰é’®çš„æ‚¬åœæ”¾å¤§ä¸Žæ—‹è½¬ï¼ˆä½¿ç”¨æœ‰æ•ˆé€‰æ‹©å™¨ï¼‰âœ…âœ…âœ…
// =====================================================
.left-sidebar .menu-bottom-section,
.left-sidebar .menu-bottom-section *,
.left-sidebar .menu-bottom-section > li,
.left-sidebar .menu-bottom-section > li *,
.left-sidebar .menu-bottom-section button,
.left-sidebar .menu-bottom-section button * {
  transform: none !important;
  scale: 1 !important;
  rotate: 0deg !important;
  transition: none !important;
  transition-property: none !important;
  animation: none !important;
  will-change: auto !important;
}

// ******** ä¿®æ”¹-é¡µè„šè®¿é—®é‡-æ ·å¼ ********
.count_info {
  border: 1px solid #ddd;
  border-radius: 25px;
  padding: 12px;
  transform: translateY(-66px);   /* å‘ä¸ŠæŠ¬ 66px */
  background: #ffffff;
  color: #333;
}
[data-scheme="dark"] .count_info {
  border: 1px solid transparent;
  background: #3f3f3f;
  color: #fff;
}
.number-highlight {
  color: var(--hover-text-color); /* æ•°å€¼é¢œè‰²ä¿®æ”¹ */
  font-weight: 600;
}

// ç›¸å…³æ–‡ç« åŒºåŸŸä¼˜åŒ–
.related-contents {
  overflow-x: visible;
  padding-bottom: 15px;
}

// ==================== è‡ªå®šä¹‰åŠ è½½åŠ¨ç”» ====================
#loading-box .loading-left-bg,
#loading-box .loading-right-bg {
  position: fixed;
  z-index: 1000;
  width: 50%;
  height: 100%;
  background-color: #b1c0c7;
  transition: all 0.5s;
}

#loading-box .loading-right-bg {
  right: 0;
}

#loading-box > .spinner-box {
  position: fixed;
  z-index: 1001;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
}

#loading-box .spinner-box .configure-border-1 {
  position: absolute;
  padding: 3px;
  width: 115px;
  height: 115px;
  background: #ffab91;
  animation: configure-clockwise 3s ease-in-out 0s infinite alternate;
}

#loading-box .spinner-box .configure-border-2 {
  left: -115px;
  padding: 3px;
	width: 115px;
	height: 115px;
	background: rgb(63, 249, 220);
	transform: rotate(45deg);
	animation: configure-xclockwise 3s ease-in-out 0s infinite alternate;
}

#loading-box .spinner-box .loading-word {
  position: absolute;
  color: #ffffff;
  font-size: 1.8rem;
  font-family: 'Zhi Mang Xing', cursive;
}

#loading-box .spinner-box .configure-core {
	width: 100%;
	height: 100%;
	background-color: #37474f;
}

div.loaded div.loading-left-bg {
  transform: translate(-100%, 0);
}

div.loaded div.loading-right-bg {
  transform: translate(100%, 0);
}

div.loaded div.spinner-box {
  display: none !important;
}

@keyframes configure-clockwise {
  0% { transform: rotate(0); }
  25% { transform: rotate(90deg); }
  50% { transform: rotate(180deg); }
  75% { transform: rotate(270deg); }
  100% { transform: rotate(360deg); }
}

@keyframes configure-xclockwise {
  0% { transform: rotate(45deg); }
  25% { transform: rotate(-45deg); }
  50% { transform: rotate(-135deg); }
  75% { transform: rotate(-225deg); }
  100% { transform: rotate(-315deg); }
}